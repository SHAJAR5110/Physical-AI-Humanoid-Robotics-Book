services:
  - type: web
    name: physical-ai-backend
    runtime: python
    plan: standard
    region: ohio

    repo: https://github.com/SHAJAR5110/Physical-AI-Humanoid-Robotics-Book
    branch: deploy/railway
    rootDir: ./backend

    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn main:app --host 0.0.0.0 --port $PORT --workers 1

    healthCheckPath: /health
    autoDeployTrigger: commit

    envVars:
      - key: PYTHONUNBUFFERED
        value: "1"
      - key: PYTHONDONTWRITEBYTECODE
        value: "1"
      - key: PORT
        value: "8000"
      - key: ENVIRONMENT
        value: production
      - key: DEBUG
        value: "false"

# Optional: Uncomment to add PostgreSQL database
# databases:
#   - name: physical-ai-db
#     plan: basic
#     region: ohio
#     postgresMajorVersion: "17"
#     diskSizeGB: 15
#     ipAllowList: []
